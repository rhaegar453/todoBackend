(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,a){e.exports=a(91)},54:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(20),s=a.n(l),r=(a(54),a(10)),c=a(11),i=a(13),m=a(12),u=a(14),p=a(93),d=a(105),h=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("nav",{className:"navbar navbar-dark navbar-expand-md fixed-top bg-dark"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement(p.a,{className:"navbar-brand",to:"/"},o.a.createElement("i",{className:"icon ion-ios-football"}),"\xa0GoalTracker"),o.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navcol-1"},o.a.createElement("span",{className:"sr-only"},"Toggle navigation"),o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse d-flex flex-row-reverse",id:"navcol-1"},o.a.createElement(p.a,{to:"/signUp"},o.a.createElement("button",{className:"btn btn-primary auth",type:"button",id:"authbuttons"},"Sign Up")),o.a.createElement(p.a,{to:"/signIn"},o.a.createElement("button",{className:"btn btn-outline-primary",type:"button",onClick:this.loginHanlder},"Sign In"))))))}}]),t}(o.a.Component),g=Object(d.a)(h),f=a(16),b=a.n(f),E=(o.a.Component,a(102)),v=a(28),k=a.n(v),N=a(94),w=a(95),j=a(96),y=a(97),O=a(98),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).toggle=function(){console.log(a.props),a.setState({collapse:!a.state.collapse})},a.deleteTask=function(){console.log("Deleting the task with id ",a.props);var e={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),id:a.props.id};b.a.delete("http://localhost:3001/api/tasks/delete",{headers:e}).then(function(e){console.log(e.data.data),a.setState({tasks:e.data.data}),a.props.updatePage()}).catch(function(e){console.log(e.response)})},a.state={collapse:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){this.state.collapse;var e=o.a.createElement(k.a,{fromNow:!0},this.props.endDate),t=o.a.createElement(k.a,{fromNow:!0,ago:!0},this.props.createdDate);return o.a.createElement("div",null,o.a.createElement(N.a,{isOpen:this.state.collapse},o.a.createElement(w.a,null,o.a.createElement(j.a,{onClick:this.toggle},o.a.createElement("h3",null,this.props.title)),o.a.createElement(y.a,null,o.a.createElement("p",null,"Description:",this.props.description),o.a.createElement("p",null,"Task ends ",e),o.a.createElement("p",null,"Created Date:",t),o.a.createElement(O.a,{color:"primary",onClick:this.deleteTask},"Delete Task")))),o.a.createElement("div",null,o.a.createElement("li",{className:"list-group-item d-flex flex-row justify-content-between",onClick:this.toggle},o.a.createElement("span",null,this.props.title),o.a.createElement("span",{className:"badge badge-primary"},e))))}}]),t}(o.a.Component),C=a(25),D=a(104),T=a(99),x=a(100),M=a(101),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).submitHandler=function(){console.log(a.state);var e={"Content-Type":"application/json",authorization:localStorage.getItem("jwt")},t={title:a.state.title,description:a.state.description,endDate:a.state.endDate};b.a.post("http://localhost:3001/api/tasks/newTask",t,{headers:e}).then(function(e){console.log(),e.data.success?(a.toggle(),a.props.updatePage()):a.setState({error:{error:!0,errMessage:"Something went wrong. Please check the input once again"}})}).catch(function(e){console.log(e.response)})},a.disableButton=function(){(a.state.description||a.state.title||""==a.state.endDate)&&a.setState({buttonDisabled:!1})},a.state={title:"",description:"",endDate:"",modal:a.props.show,backdrop:!0,buttonDisabled:!0,error:{error:!1,errMessage:""}},a.toggle=a.toggle.bind(Object(C.a)(Object(C.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this,t=this.state.error.error?o.a.createElement("p",null,this.state.error.errMessage):null;return o.a.createElement("div",null,o.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.class,backdrop:this.state.backdrop},o.a.createElement(T.a,{toggle:this.toggle},o.a.createElement("h3",null,"Create a new Task")),o.a.createElement(x.a,null,o.a.createElement("form",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"staticEmail",className:"col-sm-3 col-form-label"},"Title"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{placeholder:"Give your task a name",autoComplete:"off",type:"text",className:"form-control",value:this.state.title,onChange:function(t){e.setState({title:t.target.value}),e.disableButton(),console.log(e.state)}})),o.a.createElement("label",{htmlFor:"staticEmail",className:"col-sm-3 col-form-label"},"Description"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("textarea",{autoComplete:"off",className:"form-control",placeholder:"Enter the Description here",onChange:function(t){e.setState({description:t.target.value}),console.log(e.state)}})),o.a.createElement("label",{htmlFor:"staticEmail",className:"col-sm-3 col-form-label"},"EndDate"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"date",className:"form-control",onChange:function(t){e.setState({endDate:t.target.value}),console.log(e.state)}}))))),o.a.createElement(M.a,null,t,o.a.createElement(O.a,{color:"primary",onClick:this.submitHandler,disabled:this.state.buttonDisabled},"Create"),o.a.createElement(O.a,{color:"danger",onClick:this.toggle},"Cancel"))))}}]),t}(o.a.Component),I=(a(92),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).createTask=function(){a.setState({modalShow:!a.state.modalShow}),console.log(a.state.modalShow)},a.updatePage=function(){console.log("Page is updating");var e={"Content-Type":"application/json",authorization:localStorage.getItem("jwt")};b.a.get("http://localhost:3001/api/tasks/",{headers:e}).then(function(e){console.log(e.data),a.setState({tasks:e.data.data})}).catch(function(e){console.log(e.response)})},a.state={modalShow:!1,tasks:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={"Content-Type":"application/json",authorization:localStorage.getItem("jwt")};b.a.get("http://localhost:3001/api/tasks/",{headers:t}).then(function(t){console.log(t),e.setState({tasks:t.data.data})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){var e=this,t=0==this.state.tasks.length?o.a.createElement("p",null,"You have no tasks. Go ahead and create one"):null,a=this.state.modalShow?o.a.createElement(P,{show:!0,updatePage:this.updatePage}):null;return o.a.createElement("div",null,a,o.a.createElement("div",{className:"container",id:"startContainer"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-10"},o.a.createElement("h1",{className:"d-flex flex-row justify-content-between"},"My Tasks",o.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.createTask},"Create New Task"),o.a.createElement("h2",null,"Days Left")))),o.a.createElement("div",{className:"contentdiv"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-10"},o.a.createElement("ul",{className:"list-group"},t,this.state.tasks.map(function(t){return o.a.createElement(S,{key:t._id,completed:t.completed,updatePage:function(){return e.updatePage()},title:t.title,description:t.description,endDate:t.endDate,id:t._id,createdDate:t.createdDate})})))))))}}]),t}(o.a.Component)),U=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),b()({method:"POST",url:"https://nameless-headland-34291.herokuapp.com/api/auth/login",data:{email:a.state.email,password:a.state.password},config:{headers:{"Content-Type":"application/json"}}}).then(function(e){localStorage.setItem("jwt",e.data.token),setTimeout(function(){a.props.history.push("/")},3e3)}).catch(function(e){a.setState({error:{error:!0,errorMessage:e.response.data.msg}}),console.log(a.state),console.log(e.response)})},a.state={email:"",password:"",error:{error:!1,errorMessage:""}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.error.error?o.a.createElement("p",null,this.state.error.errorMessage):null;return o.a.createElement("div",null,o.a.createElement("div",{className:"login-clean"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("h2",{className:"sr-only"},"Login Form"),o.a.createElement("div",{className:"illustration"},o.a.createElement("h1",null,"Login"),o.a.createElement("i",{className:"icon ion-ios-football"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{autoComplete:"off",className:"form-control",type:"email",name:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{onChange:function(t){return e.setState({password:t.target.value})},autoComplete:"off",className:"form-control",type:"password",name:"password",placeholder:"Password",value:this.state.password})),t,o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Log In")))))}}]),t}(o.a.Component),F=Object(d.a)(U),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),b()({method:"POST",url:"https://nameless-headland-34291.herokuapp.com/api/auth/register",data:{email:a.state.email,password:a.state.password,username:a.state.username},config:{headers:{"Content-Type":"application/json"}}}).then(function(e){console.log(e),0==e.data.success?(a.setState({error:{error:!0,errorMessage:"User Already Exists"}}),console.log(a.state)):a.setState({success:{success:!0,succceMessage:"Successfully Authenticated..Redirecting to login"}}),setTimeout(function(){a.props.history.push("/signin")},3e3)}).catch(function(e){console.log(e.response)})},a.state={email:"",password:"",username:"",error:{error:!1,errorMessage:""},success:{success:!1,succceMessage:""}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"login-clean"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("h2",{className:"sr-only"},"Login Form"),o.a.createElement("div",{className:"illustration"},o.a.createElement("h1",null,"Sign Up"),o.a.createElement("i",{className:"icon ion-ios-football"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{autoComplete:"off",className:"form-control",type:"email",name:"email",placeholder:"Email",onChange:function(t){e.setState({email:t.target.value})}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{autoComplete:"off",className:"form-control",type:"text",placeholder:"Username",onChange:function(t){e.setState({username:t.target.value})}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{autoComplete:"off",className:"form-control",type:"password",name:"password",placeholder:"Password",onChange:function(t){e.setState({password:t.target.value})}})),this.state.error.error?o.a.createElement("p",null,this.state.error.errorMessage):null,this.state.success.success?o.a.createElement("p",null,this.state.success.succceMessage):null,o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Sign Up")))))}}]),t}(o.a.Component),z=Object(d.a)(L),B=function(e){function t(e){return Object(r.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{marginTop:"80px"}},o.a.createElement(g,null),o.a.createElement(E.a,{path:"/",exact:!0,component:I}),o.a.createElement(E.a,{path:"/signin",exact:!0,component:F}),o.a.createElement(E.a,{path:"/signup",exact:!0,component:z}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(103);s.a.render(o.a.createElement(G.a,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,2,1]]]);
//# sourceMappingURL=main.1435f1cc.chunk.js.map